<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Native American Language Archive</title>
    <style>
        /* BASE STYLES */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        /* Pure white background for the entire page */
        body { 
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; 
            line-height: 1.6; 
            color: #222; 
            background: #fff; 
        }

        /* HEADER & BANNER (SIMPLE LIGHT THEME) */
        header { 
            background: #fff; 
            color: #222; 
            padding: 1.5rem 1rem 0.5rem; 
            text-align: center; 
            /* Subtle border at the bottom of the header */
            border-bottom: 1px solid #eee; 
            position: sticky; /* Sticky header */
            top: 0;
            z-index: 1000;
        }
        header h1 { font-size: 2rem; margin-bottom: 0.25rem; }
        header p { font-size: 0.9rem; font-style: normal; color: #666; }

        /* NAVIGATION (FLAT, HIGH-CONTRAST) */
        nav { 
            background: #fff; 
            /* Subtle border below the navigation */
            border-bottom: 1px solid #eee; 
            padding: 0.25rem 0;
            position: sticky; /* Make nav sticky as well */
            top: 68px; /* Position it right below the header (approx height of header) */
            z-index: 999;
        }
        nav ul { list-style: none; display: flex; flex-wrap: wrap; justify-content: center; }
        nav a { 
            display: block; 
            padding: 0.75rem 1.25rem;
            color: #222; 
            text-decoration: none; 
            font-weight: 500; 
            transition: background 0.2s; 
        }
        nav a:hover { background: #f5f5f5; border-radius: 0; }
        
        /* Dropdowns */
        .dropdown { position: relative; }
        .dropdown-content { 
            display: none; 
            position: absolute; 
            background: #fff; 
            min-width: 200px; 
            border: 1px solid #ddd; 
            box-shadow: 2px 2px 5px rgba(0,0,0,0.05);
            z-index: 1000; 
        }
        .dropdown-content a { 
            padding: 0.75rem 1rem; 
            /* Subtle lines within the dropdown */
            border-bottom: 1px solid #eee; 
            display: block; 
        }
        .dropdown-content a:last-child { border-bottom: none; }
        .dropdown-content a:hover { background: #f0f0f0; } 
        .dropdown:hover .dropdown-content { display: block; }

        /* SEARCH BAR (MADE STICKY) */
        .search-container { 
            background: #fff; 
            padding: 1rem 1.5rem; 
            /* Subtle border at the bottom of the search bar */
            border-bottom: 1px solid #ddd; 
            position: sticky; 
            /* Adjusted position to stick below the header and nav (approx 120px) */
            top: 110px; 
            z-index: 998;
            box-shadow: none; 
        }
        .search-wrapper { max-width: 1200px; margin: 0 auto; }
        .search-bar { width: 100%; max-width: 800px; margin: 0 auto; position: relative; }
        .search-bar input { 
            width: 100%; 
            padding: 0.75rem 1.5rem; 
            font-size: 1rem; 
            border: 1px solid #ccc; /* Simple, light border */
            border-radius: 4px; 
            transition: all 0.3s; 
        }
        .search-bar input:focus { outline: none; border-color: #222; }
        .search-info { text-align: center; margin-top: 0.5rem; font-size: 0.8rem; color: #666; }

        /* CONTENT SECTIONS */
        .container { 
            max-width: 1000px; 
            margin: 0 auto; 
            padding: 2.5rem 2rem; 
        }
        section { 
            margin-bottom: 3rem; 
            padding: 0; 
            background: #fff; 
            border: none; 
            border-radius: 0; 
            box-shadow: none; 
            /* Add a very subtle line below sections (except the last one in the container) */
            border-bottom: 1px solid #eee;
            padding-bottom: 2rem;
        }
        .container section:last-of-type {
            border-bottom: none;
        }

        section h2 { 
            font-size: 1.8rem; 
            margin-bottom: 1rem; 
            padding-bottom: 0.5rem; 
            /* The subtitle line remains a bit stronger for emphasis */
            border-bottom: 1px solid #ddd; 
            color: #111;
        }
        .hidden { display: none; }

        /* RESOURCE LIST STYLES */
        .resource-list { 
            background: #fff; 
            padding: 0;
            border: none; 
            border-radius: 0; 
        }
        .resource-item { 
            background: #fff; 
            padding: 1.5rem 0;
            margin-bottom: 0; 
            border: none; 
            /* Very subtle line separating individual resources */
            border-bottom: 1px dashed #f0f0f0; 
            box-shadow: none; 
        }
        .resource-item:last-child { border-bottom: none; }
        .resource-item h3 { font-size: 1.4rem; margin-bottom: 0.5rem; }
        .resource-desc { margin-top: 0.75rem; color: #444; }
        .resource-meta { 
            font-size: 0.9rem; 
            color: #777; 
            margin-top: 0.5rem;
            padding-top: 0.5rem;
            border-top: 1px solid #f9f9f9;
        }
        .resource-meta strong { font-weight: 600; color: #222; }
        .resource-item a { color: #007bff; text-decoration: none; font-weight: 500; display: inline-block; margin-top: 0.75rem;}

        /* FORMS & BUTTONS */
        form { margin-top: 1.5rem; display: flex; flex-direction: column; gap: 0.75rem; }
        form input, form textarea { 
            padding: 0.6rem; 
            border: 1px solid #ccc; 
            border-radius: 4px; 
            font-size: 1rem; 
            background: #fff;
        }
        form button { 
            background: #222; 
            color: #fff; 
            border: none; 
            padding: 0.75rem 1.5rem; 
            border-radius: 4px; 
            cursor: pointer; 
            font-weight: 600; 
            align-self: flex-start;
            transition: background 0.2s;
        }
        form button:hover { background: #444; }

        /* STORY LIST (PADLET STYLE) */
        #storyList { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); 
            gap: 1.5rem; 
            margin-top: 1.5rem; 
        }
        .story { 
            background: #fcfcfc; 
            padding: 1rem; 
            border: 1px solid #ddd; 
            border-radius: 6px; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.05); 
            position: relative;
            min-height: 150px;
        }
        .story h3 { font-size: 1.2rem; margin-bottom: 0.5rem; }
        .story em { display: block; font-size: 0.85rem; color: #777; margin-bottom: 0.75rem; }
        .story p { font-size: 0.95rem; margin-top: 0; }
        .file-attachment { font-size: 0.8rem; margin-top: 1rem; padding-top: 0.5rem; border-top: 1px solid #eee; }
        .file-attachment a { color: #007bff; text-decoration: none; }

        /* Action Buttons */
        .delete-btn, .edit-btn {
            position: absolute;
            top: 8px;
            padding: 4px 8px;
            font-size: 0.7rem;
            cursor: pointer;
            background: #fff;
            border: 1px solid #ccc;
            border-radius: 3px;
            line-height: 1;
            transition: background 0.2s;
            z-index: 10;
        }
        .delete-btn { right: 8px; color: #dc3545; border-color: #dc3545; }
        .delete-btn:hover { background: #dc3545; color: #fff; }
        .edit-btn { right: 50px; color: #007bff; border-color: #007bff; }
        .edit-btn:hover { background: #007bff; color: #fff; }


        /* FOOTER */
        footer { 
            background: #f8f8f8; 
            color: #555; 
            text-align: center; 
            padding: 1.5rem 1rem; 
            margin-top: 3rem; 
            /* Subtle border above the footer */
            border-top: 1px solid #eee; 
        }

        /* RESPONSIVE DESIGN */
        @media (max-width: 768px) {
            nav ul { flex-direction: column; }
            nav a { padding: 0.75rem; }
            .search-container { top: 120px; }
        }
    </style>
</head>
<body>
    <header>
        <h1>Native American Language Archive</h1>
        <p>Linking Past, Present and Future Voices</p>
    </header>

    <nav>
        <ul>
            <li><a href="#about" onclick="showSection('about')">About</a></li>
            <li class="dropdown">
                <a href="#websites">Archive</a>
                <div class="dropdown-content" id="websites-menu"></div>
            </li>
            <li class="dropdown">
                <a href="#books">Languages</a>
                <div class="dropdown-content" id="books-menu"></div>
            </li>
            <li class="dropdown">
                <a href="#museums">Museums</a>
                <div class="dropdown-content" id="museums-menu"></div>
            </li>
            <li><a href="#share" onclick="showSection('share')">Share a Story</a></li>
            <li><a href="#contact" onclick="showSection('contact')">Get in touch</a></li>
        </ul>
    </nav>

    <div class="search-container hidden">
        <div class="search-wrapper">
            <div class="search-bar">
                <input type="text" id="globalSearch" placeholder=" Search all resources by title, description, language, publisher, or region...">
            </div>
            <div class="search-info" id="searchInfo">Search across all resources</div>
        </div>
    </div>

    <div class="container">
        <section id="about">
            <h2>About Our Mission</h2>
            <p>Indigenous languages carry the **wisdom, stories and cultural heritage** of communities that have stewarded this land for thousands of years. Yet many of these irreplaceable linguistic treasures face the threat of disappearing forever. Our platform serves as a digital sanctuary where **indigenous communities, linguists and language enthusiasts** can come together to preserve oral traditions and support vital revitalization work.</p>
            <p style="margin-top: 1rem;">Here, you'll find resources for learners, documentation projects led by native speakers and tools to help communities preserve their ancestral languages. We believe every language represents a unique way of understanding the world, and preserving linguistic diversity enriches us all. Whether you're reconnecting with your heritage language, supporting revitalization efforts or exploring how people communicate across cultures, this space honors the voices that have echoed across generations and ensures they continue to thrive.</p>
        </section>

        <section id="resources" class="hidden">
            <h2 id="resource-title">Resources</h2>
            <div id="resource-list" class="resource-list"></div>
        </section>

        <section id="share" class="hidden">
            <h2>Share a Story</h2>
            <p>Contribute your own story in English or in a Native American language. 
            These stories will become part of our growing archive.</p>
            <form id="storyForm">
                <input type="text" id="storyTitle" placeholder="Story Title" required>
                <input type="text" id="storyLanguage" placeholder="Language (e.g. English, Cherokee)" required>
                <textarea id="storyContent" placeholder="Write your story here..." rows="6" required></textarea>
                <input type="file" id="storyFile" accept=".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.mp3,.mp4,.wav">
                <label for="storyFile" style="font-size: 0.9rem; color: #666;">Optional: Attach a file (PDF, Word, Text, Image, or Audio)</label>
                <button type="submit">Submit Story</button>
            </form>
            
            <h2 style="margin-top: 3rem;">Community Stories</h2>
            <div id="storyList">
                <p style="padding: 1.5rem 0; grid-column: 1 / -1; text-align: center; color: #666;">No stories added yet. Be the first!</p>
            </div>
        </section>

        <section id="contact" class="hidden">
            <h2>Contact Us</h2>
            <p>Use the form below to send a message to our team. Your message will be drafted in your local email client and sent to **lefthand.textiles@gmail.com**.</p>
            <form id="contactForm" action="mailto:lefthand.textiles@gmail.com" method="post" enctype="text/plain">
                <input type="text" name="Name" placeholder="Your Name" required>
                <input type="email" name="Email" placeholder="Your Email" required>
                <textarea name="Message" placeholder="Your Message..." rows="6" required></textarea>
                <button type="submit">Send Message</button>
            </form>
        </section>
        
    </div>

    <footer>
        <p>&copy; 2025 Native American Language Archive | Honoring Indigenous Voices</p>
    </footer>

    <script>
        // RESOURCE DATA (Apps/Learning Tools removed)
        const resources = {
            "websites": {
                "California ": [
                    {
                        "title": "Native Languages of the Americas (California ",
                        "type": "Website",
                        "desc": "Small non-profit organization dedicated to Native American language survival through internet technology. Provides accessible vocabulary, cultural background, and pronunciation guides for hundreds of California  languages, serving as gateway to specialized materials",
                        "identifier": "https://www.native-languages.org/California .htm",
                        "coverage": "California ",
                        "lang": "California  Languages",
                        "pub": "Native Languages Org"
                    },
                    {
                        "title": "California  State Parks - California  Indians Language",
                        "type": "Website",
                        "desc": "Educational resource documenting California 's 12,000-year cultural heritage and sixty-four distinct indigenous languages. Emphasizes the linguistic diversity crisis and current preservation efforts for languages in life-and-death struggle for survival. northwestern California  Indigenous languages including Tolowa, Karuk, Hupa, Yurok, Wiyot, Mattole, and Tsnungwe. Provides educational resources for cultural awareness and historical understanding.",
                        "identifier": "https://www.parks.ca.gov/?page_id=23548",
                        "coverage": "California ",
                        "lang": "California  Languages",
                        "pub": "CA State Parks"
                    }
                ],
                "Eastern_Woodlands": [
                    {
                        "title": "Cherokee Nation Language Platform",
                        "type": "Website",
                        "desc": "Cherokee Nation's official online language learning platform offering free Cherokee language classes taught by Ed Fields. Features self-paced courses, interactive learning portal, and comprehensive resources for Cherokee language students and educators seeking structured instruction.",
                        "identifier": "https://cnlearn.cherokee.org/",
                        "coverage": "Eastern Woodlands",
                        "lang": "Cherokee",
                        "pub": "Cherokee Nation"
                    },
                    {
                        "title": "Cherokee Learner Community Resources",
                        "type": "Website",
                        "desc": "Community-driven educational resource collection accumulated by Cherokee language students. Provides curated materials, learning guides, grammar references and practical resources specifically designed for Cherokee language learners at various proficiency levels and learning styles.",
                        "identifier": "https://cherokeelearner.com/",
                        "coverage": "Eastern Woodlands",
                        "lang": "Cherokee",
                        "pub": "Community-based"
                    },
                    {
                        "title": "Eastern Band Cherokee Immersion Program",
                        "type": "Website",
                        "desc": "Eastern Band Cherokee immersion program offering online Cherokee lessons, dictionary database, and language preservation resources. Addresses Cherokee language emergency status through educational materials supporting Cherokee Nation, UKB, and EBCI collaborative revitalization efforts.",
                        "identifier": "https://newkituwah.com/",
                        "coverage": "Eastern Woodlands",
                        "lang": "Cherokee",
                        "pub": "Eastern Band Cherokee"
                    },
                    {
                        "title": "Ojibwe Language Learning Platform",
                        "type": "Website",
                        "desc": "Comprehensive Anishinaabemowin learning website providing beginner through advanced lessons, immersion support materials, and master-apprentice program resources. Features oral tradition integration with structured lessons for new learners without prior language knowledge requirements.",
                        "identifier": "https://ojibwe.net/",
                        "coverage": "Eastern Woodlands",
                        "lang": "Ojibwe",
                        "pub": "Community-based"
                    },
                    {
                        "title": "Learning Ojibwe Platform",
                        "type": "Website",
                        "desc": "Dedicated platform focused specifically on Ojibwe language instruction and cultural education. Provides structured learning materials, teaching resources and community support for speakers, learners and educators working with Native language acquisition and preservation.",
                        "identifier": "https://learningojibwe.com/",
                        "coverage": "Eastern Woodlands",
                        "lang": "Ojibwe",
                        "pub": "Community-based"
                    },
                    {
                        "title": "Cherokee Nation Language Platform",
                        "type": "Website",
                        "desc": "Official online Cherokee language learning platform with free classes                                                                                 Woodlan ds",
                        "identifier": "https://cnlearn.cherokee.org/",
                        "coverage": "Eastern",
                        "lang": "Cherokee",
                        "pub": "Cherokee Nation"
                    }
                ],
                "Great_Basin": [
                    {
                        "title": "Pyramid Lake Paiute Tribe Language Department",
                        "type": "Website",
                        "desc": "Tribal language preservation program offering community-based instruction and cultural education. Provides resources for Northern Paiute language learning, cultural preservation and community engagement supporting tribal sovereignty and linguistic heritage maintenance.",
                        "identifier": "https://plpt.nsn.us/language/",
                        "coverage": "Great Basin",
                        "lang": "Northern Paiute",
                        "pub": "Pyramid Lake Paiute Tribe"
                    },
                    {
                        "title": "Shoshone-Bannock Tribes Language & Cultural Pr",
                        "type": "Website",
                        "desc": "Tribal department providing instruction in both Shoshone and Bannock languages by tribal member instructors. Combines language learning with cultural values, traditional knowledge and tribal history education for comprehensive cultural preservation.",
                        "identifier": "https://www.sbtribes.com/language-culture/",
                        "coverage": "Great Basin",
                        "lang": "Shoshone, Bannock",
                        "pub": "Shoshone-Bannock Tribes"
                    }
                ],
                "Northwest_Coast": [
                    {
                        "title": "Lingít Yoo X̱ʼatángi - The Tlingit Language",
                        "type": "Website",
                        "desc": "Comprehensive Tlingit language learning platform offering lessons, MOOC courses, dictionaries, and community resources. Features extensive audio materials, workbooks, verb dictionaries and collaborative learning tools developed by dedicated Tlingit language teachers and speakers.",
                        "identifier": "https://tlingitlanguage.com/",
                        "coverage": "Northwest Coast",
                        "lang": "Tlingit",
                        "pub": "Community-based"
                    },
                    {
                        "title": "Sealaska Heritage Institute Language Department",
                        "type": "Website",
                        "desc": "Official Southeast Alaska language revitalization hub for Lingít (Tlingit), X̱aad Kíl (Haida) and Sm'algyax (Tsimshian). Provides downloadable materials, audio dictionaries, curricula, student books and comprehensive learning resources with community oversight.",
                        "identifier": "https://sealaskaheritage.org/shi-language-departm",
                        "coverage": "Northwest Coast",
                        "lang": "Tlingit, Haida, Tsimshian",
                        "pub": "Sealaska Heritage Institute"
                    },
                    {
                        "title": "Haida Language Main Page",
                        "type": "Website",
                        "desc": "Dedicated website for Haida language study, preservation and revitalization efforts. Offers linguistic resources, cultural context and community-driven materials supporting X̱aad Kíl language learning and cultural preservation initiatives.",
                        "identifier": "http://haidalanguage.org/",
                        "coverage": "Northwest Coast",
                        "lang": "Haida",
                        "pub": "Community-based"
                    },
                    {
                        "title": "FirstVoices - Northwest Coast Languages",
                        "type": "Website",
                        "desc": "Community-controlled digital platform featuring various Northwest Coast Indigenous languages including Halkomelem, Squamish, and other Salishan languages. Offers multimedia resources, keyboards and collaborative tools for language preservation and learning.",
                        "identifier": "https://www.firstvoices.com/",
                        "coverage": "Northwest Coast",
                        "lang": "Multiple Salishan Languages",
                        "pub": "First Peoples' Cultural Council"
                    }
                ],
                "Plateau ": [
                    {
                        "title": "Yakama Nation Cultural Resources",
                        "type": "Website",
                        "desc": "Official tribal education program requiring two-year Sahaptin language instruction for students. Features community-based learning with elders, parents, and tribal members actively involved in teaching Ichishkíin language, reading, writing, and cultural context through comprehensive curriculum.",
                        "identifier": "https://www.yakama.org/academics/",
                        "coverage": "Plateau ",
                        "lang": "Sahaptin (Ichishkíin)",
                        "pub": "Yakama Nation"
                    },
                    {
                        "title": "Secwepemc Language Department",
                        "type": "Website",
                        "desc": "Official language preservation program for Secwepemctsín (Shuswap) offering books, audio materials, and educational resources. Provides community-driven language revitalization efforts supporting Interior Salishan language learning with cultural context and traditional knowledge integration.",
                        "identifier": "Contact through",
                        "coverage": "Secwepemc First Nation",
                        "lang": "Plateau ",
                        "pub": "Secwepemctsín (Shuswap)         Secwepemc First Nation"
                    },
                    {
                        "title": "Syilx Okanagan Nation nsyilxcən Language",
                        "type": "Website",
                        "desc": "Official Okanagan Nation Alliance language resource featuring nsyilxcən (Colville-Okanagan) materials and cultural information. Distinguishes Syilx language from neighboring Salishan peoples while providing linguistic resources and community-based learning support for all districts. training for Yakama and other Sahaptin languages. Academic support for language revitalization efforts with community partnerships and culturally appropriate pedagogical methods for Indigenous language instruction.",
                        "identifier": "https://syilx.org/about-us/syilx-nation/nsyilxen-lang",
                        "coverage": "Plateau ",
                        "lang": "nsyilxcən (Colville-Okanagan)",
                        "pub": "Syilx Okanagan Nation"
                    }
                ],
                "Great_Plains": [
                    {
                        "title": "Fort Belknap Language Preservation Program",
                        "type": "Website",
                        "desc": "A tribally-run program based in Harlem, Montana, serving the Fort Belknap Indian Reservation. Focuses on community-based preservation of Assiniboine and Gros Ventre languages,...",
                        "identifier": "https://www.ftbelknaplanguagepreservation.com/",
                        "coverage": "Great Plains",
                        "lang": "Assiniboine, Gros Ventre",
                        "pub": "Fort Belknap Tribes"
                    },
                    {
                        "title": "Fort Peck Community College",
                        "type": "Website",
                        "desc": "Fort Peck Community College operates Native language immersion programs for Dakota and Nakota (Assiniboine) languages, including pre-school immersion schools and community education services. The college provides structured language and cultural preservation through academic programs, community services, and specialized immersion methods integrated with traditional teaching approaches. Indiana University - Fort Belknap Research Digital … Academic research documenting oral traditions and language use at Fort Belknap Reservation and Carry The Kettle Reserve in Saskatchewan. Captures cross-border dialectical variations through university-community partnerships, focusing on language within cultural storytelling and ceremonial contexts with audio recordings Native-Languages.org - Assiniboine Website Online collection providing accessible Assiniboine Native-Languages.org Great … Assiniboine Native Languages Org vocabulary, pronunciation guides, and cultural background alongside hundreds of other Native languages. Serves as a reliable starting point with basic information and bibliographic references, functioning as a gateway to more specialized Montana Digital Academy - Indigenous Language C Website Online high school courses launched 2023, https://montanadigitalacademy.org/programs/indigene Great … Multiple Montana Languages Montana Digital Academy serving grades 9-12 across Montana with academic credit. Provides formal Indigenous language education within state education system, making quality instruction accessible to remote students and legitimizing Native language Aaniiih Nakoda College Website Aaniiih Nakoda College on Fort Belknap https://www.nakonauniversity.org/ Great … A'anin (Gros Ventre), Nakoda Aaniiih Nakoda College Reservation is specifically charged with preserving and promoting both A'anin (Gros Ventre) and Nakoda (Assiniboine) languages, cultures, and histories. The college leads language immersion programs and integrates both languages into early childhood education. Originally Fort Belknap College, it was renamed in 2011 to reflect its dual tribal mission. ANC partners with Indiana University on comprehensive K-12 Nakoda curriculum words and phrases combined with Plains Indian Sign Language from Fort Peck Reservation in Montana. Created by Dr. Lanny Real Bird and produced by Fort Peck Community College in 2010, it uses interactive learning methods to teach vocabulary through visual and audio formats. The complete series includes volumes 1 and 2 with around 400 entries total, available as flashcards, DVDs, and CDs through Fort Peck # Title Type Description Identifier Coverage Language Publisher",
                        "identifier": "https://www.fpcc.edu/",
                        "coverage": "Great Plains",
                        "lang": "Dakota, Nakota (Assiniboine)",
                        "pub": "Fort Peck Community College"
                    }
                ],
                "Southwest": [],
                "Nationwide": [
                    {
                        "title": "Native Languages of the Americas",
                        "type": "Website",
                        "desc": "Small non-profit organization dedicated to Native American language survival through technology. The largest university archive of indigenous language materials in North America",
                        "identifier": "https://www.native-languages.org/California .htm",
                        "coverage": "Nationwide",
                        "lang": "Multiple Languages",
                        "pub": "Native Languages Org"
                    }
                ]
            },
            "books": {
                "California ": [
                    {
                        "title": "Surviving Through the Days",
                        "type": "Book",
                        "desc": "Anthology of treasures from oral literature of Native California , assembled by editor sensitive to language, culture and history. Features translations of Native California stories and songs with cultural context",
                        "identifier": "-",
                        "coverage": "California ",
                        "lang": "Multiple California Languages",
                        "pub": "Various Publishers"
                    }
                ],
                "Eastern_Woodlands": [
                    {
                        "title": "Cherokees Writing the Keetoowah Way",
                        "type": "Book Collection Comprehensive translation collection including",
                        "desc": " Collection Dollie Duncan letters, Echota Funeral Notices, WoodlandsWillie Jumper Stories, government documents, speeches, and expanded historical materials providing authentic Cherokee language documentation and cultural context.",
                        "identifier": "-",
                        "coverage": "Eastern Woodlands",
                        "lang": "Cherokee",
                        "pub": "Various Cherokee Communities"
                    }
                ],
                "Great_Basin": [
                    {
                        "title": "California Language Archive - Northern Paiute Res Digital …",
                        "type": "Academic repository featuring linguistic",
                        "desc": " documentation, grammatical analysis and cultural materials for Northern Paiute language. Provides scholarly resources, research materials, and educational content supporting language study and preservation efforts.",
                        "identifier": "https://cla.berkeley.edu/languages/northern-paiute.",
                        "coverage": "Great Basin",
                        "lang": "Northern Paiute",
                        "pub": "UC Berkeley"
                    },
                    {
                        "title": "Southern Ute Cultural Center Publications",
                        "type": "Book Collection Community-created educational materials",
                        "desc": " including language learning books, cultural guides, and traditional stories in Ute language. Features tribal member contributions, cultural context, and pedagogical resources for Ute language instruction and cultural preservation efforts.",
                        "identifier": "-",
                        "coverage": "Great Basin",
                        "lang": "Ute",
                        "pub": "Southern Ute Cultural Center"
                    },
                    {
                        "title": "University Linguistic Collections",
                        "type": "Academic",
                        "desc": "Academic publications from institutions like UC Publications Berkeley, University of Utah, and other research centers providing grammatical analyses, dictionaries, and ethnolinguistic studies of Great Basin language families through peer-reviewed scholarly works.",
                        "identifier": "-",
                        "coverage": "Great Basin",
                        "lang": "Great Basin Language Families",
                        "pub": "Multiple Universities"
                    },
                    {
                        "title": "Traditional Story Collections",
                        "type": "Book Collection Compiled collections of traditional tales, oral",
                        "desc": " histories, 
                                        and cultural narratives preserved in original Great Basin languages. Features community-approved translations, cultural annotations, and educational materials supporting language learning through storytelling traditions.",
                        "identifier": "-",
                        "coverage": "",
                        "lang": "Great Basin",
                        "pub": "Multiple Great Basin Languages Various Tribal Communities"
                    }
                ],
                "Northwest_Coast": [
                    {
                        "title": "Yukon Native Language Centre - Tlingit Resources Digital …",
                        "type": "Academic center providing Interior Tlingit",
                        "desc": " language materials including noun dictionaries, story books, language lessons, and audio resources. Features collaborative projects between linguists and community members for comprehensive language documentation. revitalization resources, historical linguistic studies, and comparative Northwest Coast language materials. Provides scholarly resources supporting Haida language research and community learning efforts.",
                        "identifier": "https://ynlc.ca/about-the-tlingit-language/",
                        "coverage": "Northwest Coast",
                        "lang": "Interior Tlingit",
                        "pub": "Yukon Native Language Centre"
                    },
                    {
                        "title": "Sealaska Heritage Institute Publications",
                        "type": "Book Collection Comprehensive collection of dictionaries,",
                        "desc": " workbooks, and cultural materials for Tlingit, Coast Haida, and Tsimshian languages. Features the most comprehensive dictionaries ever published for these languages plus teaching materials, cultural context and community-approved educational resources. by Xʼunei, Tlingit Dictionary drafts, Verb Coast Dictionary by Constance Naish and cultural materials developed by dedicated language teachers, researchers and community advocates over decades. Livingston Farrand, Archie Phinney, Morris Swadesh and tribal members. Features traditional stories, linguistic analyses, and cultural documentation preserved from early 20th-century fieldwork with Upper and Lower dialect materials.",
                        "identifier": "-",
                        "coverage": "Northwest",
                        "lang": "Tlingit, Haida, Tsimshian",
                        "pub": "Sealaska Heritage Institute"
                    }
                ],
                "Plateau ": [
                    {
                        "title": "Sahaptin Language Collections",
                        "type": "Book Collection Academic and community publications covering",
                        "desc": " Yakama, Umatilla, Warm Springs dialects with Warm Springs) Communities grammatical analyses, vocabulary collections and cultural materials. Features University of Oregon research and tribal educational resources supporting Ichishkíin language revitalization and classroom instruction.",
                        "identifier": "-",
                        "coverage": "Plateau ",
                        "lang": "Sahaptin (Yakama, Umatilla,",
                        "pub": "University of Oregon & Tribal"
                    },
                    {
                        "title": "Interior Salish Publications",
                        "type": "Book Collection Comprehensive collections including",
                        "desc": " Secwepemctsín dictionaries, grammatical studies by A.H. Kuipers, and cultural materials for Shuswap, Thompson, Okanagan-Colville, and other Interior Salishan languages. Features both academic research and community-developed educational materials.",
                        "identifier": "-",
                        "coverage": "Plateau ",
                        "lang": "Interior Salishan Languages",
                        "pub": "Academic & Tribal Institutions"
                    },
                    {
                        "title": "Plateau Penutian Studies",
                        "type": "Academic",
                        "desc": "Academic publications covering Klamath-Modoc Publications 
                                        language family with linguistic documentation, grammatical analyses, and comparative studies. University presses provide scholarly materials supporting research and preservation efforts for these southern Plateau languages. Assiniboine language. Provides comprehensive linguistic analysis including phonetics, morphology, and syntax for academic researchers and serious learners. Represents groundbreaking scholarly documentation filling a...",
                        "identifier": "-",
                        "coverage": "Plateau ",
                        "lang": "Klamath-Modoc",
                        "pub": "University Presses"
                    }
                ]
            },
            // 'apps' category removed
            "museums": {},
        };
        
        let stories = JSON.parse(localStorage.getItem('stories')) || [];

        // JAVASCRIPT FUNCTIONS 

        function showSection(id) {
            document.querySelectorAll('section').forEach(section => {
                section.classList.add('hidden');
            });
            // FIX: Ensure the target section is shown
            const targetSection = document.getElementById(id);
            if (targetSection) {
                targetSection.classList.remove('hidden');
            }
            
            // FIX: Ensure the search bar is only visible when showing the 'resources' section.
            const searchContainer = document.querySelector('.search-container');
            if (id === 'resources') {
                searchContainer.classList.remove('hidden');
            } else {
                searchContainer.classList.add('hidden');
            }
            
            window.scrollTo(0, 0); 
        }
        
        // Resource rendering (maintains all requested fields)
        function renderResources(data, title) {
            const resourceList = document.getElementById('resource-list');
            const resourceTitle = document.getElementById('resource-title');
            
            resourceTitle.textContent = title;
            resourceList.innerHTML = '';
            
            const allResources = Object.keys(data).flatMap(region => data[region]);
            
            if (allResources.length === 0) {
                 resourceList.innerHTML = `<p style="padding: 1.5rem 0;">No resources found for this category or region.</p>`;
                 return;
            }

            allResources.forEach(item => {
                const div = document.createElement('div');
                div.className = 'resource-item';
                
                let metaHTML = `
                    <strong>Type:</strong> ${item.type || 'N/A'}<br>
                    <strong>Coverage:</strong> ${item.coverage || 'N/A'}<br>
                    <strong>Language:</strong> ${item.lang || 'N/A'}<br>
                    <strong>Publisher:</strong> ${item.pub || 'N/A'}<br>
                    <strong>Identifier:</strong> ${item.identifier && item.identifier !== '-' ? item.identifier : 'N/A'}
                `;
                
                const identifierLink = item.identifier && item.identifier !== '-' && item.identifier.startsWith('http') ? 
                    `<a href="${item.identifier}" target="_blank">View Resource</a>` : '';

                div.innerHTML = `
                    <h3>${item.title}</h3>
                    <p class="resource-desc">${item.desc}</p>
                    <div class="resource-meta">${metaHTML}</div>
                    ${identifierLink}
                `;
                
                resourceList.appendChild(div);
            });
            
            showSection('resources');
        }
        
        function filterResources(category) {
            let title = '';
            let data = {};

            switch(category) {
                case 'websites':
                    title = 'Digital Archives and Websites';
                    data = resources.websites;
                    break;
                case 'books':
                    title = 'Books and Publications';
                    data = resources.books;
                    break;
                // 'apps' case removed
                case 'museums':
                    title = 'Museums and Archives';
                    data = resources.museums;
                    break;
                default:
                    title = 'All Resources';
                    data = resources.websites;
            }
            renderResources(data, title);
        }
        
        function buildMenus() {
            // FIX: Removed 'apps' from the menu structure
            const menus = {
                'websites': 'websites-menu',
                'books': 'books-menu',
                'museums': 'museums-menu'
            };

            Object.keys(menus).forEach(category => {
                const menuElement = document.getElementById(menus[category]);
                if (menuElement) {
                    menuElement.innerHTML = '';
                    
                    const allLink = document.createElement('a');
                    let categoryTitle = category.charAt(0).toUpperCase() + category.slice(1);
                    if (category === 'websites') categoryTitle = 'Archive';
                    if (category === 'books') categoryTitle = 'Languages';
                    if (category === 'museums') categoryTitle = 'Museums';
                    
                    allLink.href = `#${category}`;
                    allLink.textContent = `All ${categoryTitle}`;
                    allLink.onclick = (e) => {
                        e.preventDefault();
                        filterResources(category);
                    };
                    menuElement.appendChild(allLink);

                    if (resources[category]) {
                        Object.keys(resources[category]).forEach(region => {
                            const link = document.createElement('a');
                            link.href = `#${category}-${region.replace(/\s/g, '_')}`;
                            link.textContent = region.replace(/_/g, ' '); 
                            link.onclick = (e) => {
                                e.preventDefault();
                                renderResources({ [region]: resources[category][region] }, `${categoryTitle}: ${region.replace(/_/g, ' ')}`);
                            };
                            menuElement.appendChild(link);
                        });
                    }
                }
            });
        }
        
        function globalSearch() {
            const query = document.getElementById('globalSearch').value.toLowerCase();
            const results = {};
            let matchCount = 0;
            
            if (query.length < 3) {
                document.getElementById('searchInfo').textContent = `Search across all resources (type at least 3 characters)`;
                document.getElementById('resource-list').innerHTML = ``;
                return;
            }

            // Removed 'apps' from the search loop
            ['websites', 'books', 'museums'].forEach(category => {
                if (resources[category]) {
                    Object.keys(resources[category]).forEach(region => {
                        resources[category][region].forEach(item => {
                            const searchFields = [item.title, item.desc, item.lang, item.pub, item.coverage].join(' ').toLowerCase();
                            if (searchFields.includes(query)) {
                                if (!results[region]) results[region] = [];
                                
                                if (!results[region].some(r => r.title === item.title && r.identifier === item.identifier)) {
                                     results[region].push(item);
                                     matchCount++;
                                }
                            }
                        });
                    });
                }
            });
            
            document.getElementById('searchInfo').textContent = `Found ${matchCount} resources matching "${query}"`;
            renderResources(results, `Search Results for "${query}"`);
        }
        
        document.getElementById('globalSearch').addEventListener('input', globalSearch);


        // --- Story Submission/Editing/Rendering (Confirmed working) ---
        
        let editingIndex = null; 

        function renderStories() {
            const storyList = document.getElementById('storyList');
            if (!storyList) return;
            storyList.innerHTML = '';
            
            if (stories.length === 0) {
                 storyList.innerHTML = `<p style="padding: 1.5rem 0; grid-column: 1 / -1; text-align: center; color: #666;">No stories added yet. Be the first!</p>`;
            }

            stories.forEach((story, index) => {
                const div = document.createElement('div');
                div.className = 'story';
                div.dataset.index = index;

                let fileAttachmentHTML = '';
                if (story.fileName && story.fileData) {
                    fileAttachmentHTML = `<div class="file-attachment">File: <a href="${story.fileData}" download="${story.fileName}">📄 ${story.fileName}</a></div>`;
                }
                
                const displayContent = story.content.length > 150 ? story.content.substring(0, 150) + '...' : story.content;

                div.innerHTML = `
                    <button class="delete-btn" onclick="deleteStory(${index})">X</button>
                    <button class="edit-btn" onclick="editStory(${index})">Edit</button>
                    <h3>${story.title}</h3>
                    <em>Language: ${story.language}</em>
                    <p>${displayContent}</p>
                    ${fileAttachmentHTML}
                `;
                storyList.appendChild(div);
            });
        }
        
        window.deleteStory = function(index) {
            if (confirm('Are you sure you want to delete this story?')) {
                stories.splice(index, 1);
                localStorage.setItem('stories', JSON.stringify(stories));
                renderStories();
            }
        }

        window.editStory = function(index) {
            const story = stories[index];
            document.getElementById('storyTitle').value = story.title;
            document.getElementById('storyLanguage').value = story.language;
            document.getElementById('storyContent').value = story.content;
            
            editingIndex = index;
            document.getElementById('storyForm').querySelector('button[type="submit"]').textContent = 'Update Story';
            
            document.getElementById('share').scrollIntoView({ behavior: 'smooth' });
            
            document.getElementById('storyFile').value = ''; 
            
            alert(`Now editing: "${story.title}". Use the form above to save changes.`);
        }

        document.getElementById('storyForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const title = document.getElementById('storyTitle').value;
            const language = document.getElementById('storyLanguage').value;
            const content = document.getElementById('storyContent').value;
            const fileInput = document.getElementById('storyFile');
            
            const newStory = { title, language, content };
            
            const saveStory = (storyData) => {
                if (editingIndex !== null) {
                    stories[parseInt(editingIndex)] = storyData;
                    alert("Story updated successfully!");
                } else {
                    stories.push(storyData);
                    alert("Thank you! Your story has been submitted and added to the list below.");
                }
                
                localStorage.setItem('stories', JSON.stringify(stories));
                editingIndex = null; 
                document.getElementById('storyForm').querySelector('button[type="submit"]').textContent = 'Submit Story';
                this.reset();
                renderStories();
            };

            if (fileInput.files.length > 0) {
                const file = fileInput.files[0];
                const reader = new FileReader();
                
                reader.onload = function(event) {
                    newStory.fileName = file.name;
                    newStory.fileData = event.target.result;
                    saveStory(newStory);
                };
                
                reader.readAsDataURL(file);
            } else {
                if (editingIndex !== null) {
                    const originalStory = stories[parseInt(editingIndex)];
                    if (originalStory && originalStory.fileName) {
                        newStory.fileName = originalStory.fileName;
                        newStory.fileData = originalStory.fileData;
                    }
                }
                saveStory(newStory);
            }
        });


        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            buildMenus();
            renderStories();
            showSection('about'); // Default to showing the 'About' section on load
        });
    </script>
</body>
</html>
