<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Native American Language Database</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; line-height: 1.6; color: #222; background: #fafafa; }
    header { background: #222; color: #fff; padding: 2rem 1rem; text-align: center; border-bottom: 4px solid #444; }
    header h1 { font-size: 2.5rem; margin-bottom: 0.5rem; }
    header p { font-size: 1.1rem; font-style: italic; color: #ddd; }
    
    /* Search Bar Styles */
    .search-container { background: #fff; padding: 1.5rem; border-bottom: 2px solid #ddd; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    .search-wrapper { max-width: 1200px; margin: 0 auto; }
    .search-bar { width: 100%; max-width: 800px; margin: 0 auto; position: relative; }
    .search-bar input { width: 100%; padding: 1rem 1.5rem; font-size: 1.1rem; border: 2px solid #ccc; border-radius: 50px; transition: all 0.3s; }
    .search-bar input:focus { outline: none; border-color: #0066cc; box-shadow: 0 0 0 3px rgba(0,102,204,0.1); }
    .search-info { text-align: center; margin-top: 0.75rem; font-size: 0.9rem; color: #666; }
    
    nav { background: #fff; border-bottom: 1px solid #ddd; padding: 0.5rem 0; }
    nav ul { list-style: none; display: flex; flex-wrap: wrap; justify-content: center; }
    nav a { display: block; padding: 0.75rem 1.5rem; color: #333; text-decoration: none; font-weight: 600; transition: background 0.3s; }
    nav a:hover { background: #f5f5f5; border-radius: 6px; }
    .dropdown { position: relative; }
    .dropdown-content { display: none; position: absolute; background: #fff; min-width: 220px; border: 1px solid #ddd; border-radius: 6px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); z-index: 1000; }
    .dropdown-content a { padding: 0.75rem 1rem; border-bottom: 1px solid #eee; display: block; }
    .dropdown-content a:last-child { border-bottom: none; }
    .dropdown:hover .dropdown-content { display: block; }
    
    .container { max-width: 1200px; margin: 0 auto; padding: 2rem 1rem; }
    section { margin-bottom: 3rem; padding: 2rem; background: #fff; border: 1px solid #ddd; border-radius: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.05); }
    section h2 { font-size: 2rem; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid #eee; }
    .hidden { display: none; }
    
    /* Improved Resources Layout */
    .resource-list { 
      max-height: 600px; 
      overflow-y: auto; 
      padding: 1.5rem; 
      border: 1px solid #ddd; 
      border-radius: 12px; 
      background: #fafafa; 
      margin-top: 1.5rem;
    }
    
    .resource-item { 
      background: #fff; 
      padding: 2rem; 
      margin-bottom: 1.5rem; 
      border: 1px solid #ddd; 
      border-radius: 10px; 
      box-shadow: 0 1px 4px rgba(0,0,0,0.05); 
      transition: transform 0.2s; 
      line-height: 1.8;
    }
    
    .resource-item:last-child { margin-bottom: 0; }
    .resource-item:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
    .resource-item h3 { font-size: 1.4rem; margin-bottom: 1.2rem; color: #111; line-height: 1.4; }
    .resource-meta { font-size: 0.95rem; color: #555; margin-bottom: 1rem; line-height: 1.6; }
    .resource-item p { margin-bottom: 1.2rem; color: #333; line-height: 1.8; }
    .resource-item a { display: inline-block; margin-top: 0.75rem; color: #0066cc; text-decoration: none; font-weight: 600; }
    .resource-item a:hover { text-decoration: underline; }
    
    footer { background: #222; color: #fff; text-align: center; padding: 2rem 1rem; margin-top: 3rem; border-top: 4px solid #444; }
    
    form { margin-top: 1.5rem; display: flex; flex-direction: column; gap: 1rem; }
    form input, form textarea { padding: 0.75rem; border: 1px solid #ccc; border-radius: 8px; font-size: 1rem; }
    form button { background: #0066cc; color: #fff; border: none; padding: 0.75rem; border-radius: 8px; cursor: pointer; font-weight: 600; }
    form button:hover { background: #004999; }
    
    /* File Upload Styles */
    .file-upload {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }
    
    .file-upload label {
      font-weight: 600;
      color: #333;
    }
    
    .file-upload input[type="file"] {
      padding: 0.75rem;
      border: 2px dashed #ccc;
      border-radius: 8px;
      background: #fafafa;
      transition: all 0.3s;
    }
    
    .file-upload input[type="file"]:hover {
      border-color: #0066cc;
      background: #f0f8ff;
    }
    
    .file-upload small {
      color: #666;
      font-size: 0.9rem;
      margin-top: 0.25rem;
    }
    
    #storyList { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1rem; margin-top: 2rem; }
    .story { background: #fefefe; padding: 1rem; border: 1px solid #ddd; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); word-wrap: break-word; cursor: grab; position: relative; }
    .story.dragging { opacity: 0.5; }
    .story h3 { font-size: 1.2rem; margin-bottom: 0.5rem; }
    .story em { font-size: 0.9rem; color: #555; }
    .story .file-attachment { font-size: 0.9rem; color: #666; margin: 0.5rem 0; padding: 0.5rem; background: #f8f9fa; border-radius: 6px; }
    .delete-btn, .edit-btn { position: absolute; top: 8px; width: 24px; height: 24px; border: none; border-radius: 50%; text-align: center; cursor: pointer; font-size: 0.8rem; line-height: 22px; color: #fff; }
    .delete-btn { right: 8px; background: #e63946; }
    .delete-btn:hover { background: #c1121f; }
    .edit-btn { right: 40px; background: #457b9d; }
    .edit-btn:hover { background: #1d3557; }
    
    @media (max-width: 768px) { 
      nav ul { flex-direction: column; } 
      nav a { padding: 1rem; }
      .resource-list { max-height: 500px; padding: 1rem; }
      .resource-item { padding: 1.5rem; }
    }
  </style>
</head>
<body>
  <header>
    <h1>Native American Language Database</h1>
    <p>Linking Past, Present, and Future Voices</p>
  </header>

  <div class="search-container">
    <div class="search-wrapper">
      <div class="search-bar">
        <input type="text" id="globalSearch" placeholder="ðŸ” Search all resources by title, description, language, publisher, or region...">
      </div>
      <div class="search-info" id="searchInfo">Search across all resources</div>
    </div>
  </div>

  <nav>
    <ul>
      <li><a href="#about" onclick="showSection('about')">About</a></li>
      <li class="dropdown">
        <a href="#websites">Websites/Digital Archives</a>
        <div class="dropdown-content" id="websites-menu"></div>
      </li>
      <li class="dropdown">
        <a href="#books">Books</a>
        <div class="dropdown-content" id="books-menu"></div>
      </li>
      <li class="dropdown">
        <a href="#apps">Apps</a>
        <div class="dropdown-content" id="apps-menu"></div>
      </li>
      <li class="dropdown">
        <a href="#museums">Museums/Archives</a>
        <div class="dropdown-content" id="museums-menu"></div>
      </li>
      <li><a href="#share" onclick="showSection('share')">Share a Story</a></li>
    </ul>
  </nav>

  <div class="container">
    <section id="about">
      <h2>About Our Mission</h2>
      <p>Indigenous languages carry wisdom, stories, and cultural heritage of communities that have stewarded this land for thousands of years. Yet many of these irreplaceable linguistic treasures face the threat of disappearing forever. Our platform serves as a digital sanctuary where indigenous communities, linguists, and language enthusiasts can come together to preserve oral traditions and support vital revitalization work.</p>
      <p style="margin-top: 1rem;">This database contains comprehensive information about Native American language resources across different regions including California, Eastern Woodlands, Great Basin, Northwest Coast, Plateau, Great Plains, Southwest, and Nationwide resources. Use the search bar above to find specific resources, or browse by category using the navigation menu.</p>
    </section>

    <section id="resources" class="hidden">
      <h2 id="resource-title">Resources</h2>
      <div id="resource-list" class="resource-list"></div>
    </section>

    <section id="share" class="hidden">
      <h2>Share a Story</h2>
      <p>Contribute your own story in English or in a Native American language. These stories will become part of our growing archive.</p>
      <form id="storyForm">
        <input type="text" id="storyTitle" placeholder="Story Title" required>
        <input type="text" id="storyLanguage" placeholder="Language (e.g. English, Cherokee)" required>
        <textarea id="storyContent" placeholder="Write your story here..." rows="6" required></textarea>
        
        <!-- File attachment field -->
        <div class="file-upload">
          <label for="storyAttachment">Attach File (optional):</label>
          <input type="file" id="storyAttachment" accept="image/*,.pdf,.doc,.docx,.txt,.mp3,.wav">
          <small>Supported: Images, PDFs, Documents, Audio files (Max 10MB)</small>
        </div>
        
        <button type="submit">Submit Story</button>
      </form>
      <div id="storyList"></div>
    </section>
  </div>

  <footer>
    <p>Â© 2025 Native American Language Database | Honoring Indigenous Voices</p>
  </footer>

  <script>
    // Sample resource data
    const resources = {
      "websites": {
        "california": [
          {
            "title": "Native Languages of the Americas (California Section)",
            "type": "Website",
            "desc": "Small non-profit organization dedicated to Native American language survival through internet technology. Provides accessible vocabulary, cultural background, and pronunciation guides for hundreds of California languages, serving as gateway to specialized materials",
            "identifier": "https://www.native-languages.org/california.htm",
            "coverage": "California",
            "lang": "California Languages",
            "pub": "Native Languages Org"
          },
          {
            "title": "California State Parks - California Indians Language",
            "type": "Website",
            "desc": "Educational resource documenting California's 12,000-year cultural heritage and sixty-four distinct indigenous languages. Emphasizes the linguistic diversity crisis and current preservation efforts for languages in life-and-death struggle for survival.",
            "identifier": "https://www.parks.ca.gov/?page_id=23548",
            "coverage": "California",
            "lang": "California Languages",
            "pub": "CA State Parks"
          }
        ],
        "eastern_woodlands": [
          {
            "title": "Cherokee Nation Language Platform",
            "type": "Website",
            "desc": "Cherokee Nation's official online language learning platform offering free Cherokee language classes taught by Ed Fields. Features self-paced courses, interactive learning portal, and comprehensive resources for Cherokee language students and educators seeking structured instruction.",
            "identifier": "https://cnlearn.cherokee.org/",
            "coverage": "Eastern Woodlands",
            "lang": "Cherokee",
            "pub": "Cherokee Nation"
          },
          {
            "title": "Ojibwe Language Learning Platform",
            "type": "Website",
            "desc": "Comprehensive Anishinaabemowin learning website providing beginner through advanced lessons, immersion support materials, and master-apprentice program resources. Features oral tradition integration with structured lessons for new learners without prior language knowledge requirements.",
            "identifier": "https://ojibwe.net/",
            "coverage": "Eastern Woodlands",
            "lang": "Ojibwe",
            "pub": "Community-based"
          }
        ],
        "great_basin": [
          {
            "title": "Pyramid Lake Paiute Tribe Language Department",
            "type": "Website",
            "desc": "Tribal language preservation program offering community-based instruction and cultural education. Provides resources for Northern Paiute language learning, cultural preservation, and community engagement supporting tribal sovereignty and linguistic heritage maintenance.",
            "identifier": "https://plpt.nsn.us/language/",
            "coverage": "Great Basin",
            "lang": "Northern Paiute",
            "pub": "Pyramid Lake Paiute Tribe"
          }
        ],
        "northwest_coast": [
          {
            "title": "LingÃ­t Yoo XÌ±Ê¼atÃ¡ngi - The Tlingit Language",
            "type": "Website",
            "desc": "Comprehensive Tlingit language learning platform offering lessons, MOOC courses, dictionaries, and community resources. Features extensive audio materials, workbooks, verb dictionaries, and collaborative learning tools developed by dedicated Tlingit language teachers and speakers.",
            "identifier": "https://tlingitlanguage.com/",
            "coverage": "Northwest Coast",
            "lang": "Tlingit",
            "pub": "Community-based"
          }
        ],
        "plateau": [
          {
            "title": "Yakama Nation Cultural Resources",
            "type": "Website",
            "desc": "Official tribal education program requiring two-year Sahaptin language instruction for students. Features community-based learning with elders, parents, and tribal members actively involved in teaching IchishkÃ­in language, reading, writing, and cultural context through comprehensive curriculum.",
            "identifier": "https://www.yakama.org/academics/",
            "coverage": "Plateau",
            "lang": "Sahaptin (IchishkÃ­in)",
            "pub": "Yakama Nation"
          }
        ],
        "great_plains": [
          {
            "title": "Fort Belknap Language Preservation Program",
            "type": "Website",
            "desc": "A tribally-run program based in Harlem, Montana, serving the Fort Belknap Indian Reservation. Focuses on community-based preservation of Assiniboine and Gros Ventre languages, working directly with elders to document language use and create educational materials for younger generations in an authentic cultural context.",
            "identifier": "https://www.ftbelknaplanguagepreservation.com/",
            "coverage": "Great Plains",
            "lang": "Assiniboine, Gros Ventre",
            "pub": "Fort Belknap Tribes"
          }
        ],
        "southwest": [
          {
            "title": "Navajo Nation Language Department",
            "type": "Website",
            "desc": "Official Navajo Nation language preservation and education program offering comprehensive DinÃ© Bizaad resources, curriculum materials, and community-based instruction supporting language revitalization efforts across the Navajo Nation.",
            "identifier": "https://www.navajo-nsn.gov/",
            "coverage": "Southwest",
            "lang": "Navajo (DinÃ© Bizaad)",
            "pub": "Navajo Nation"
          }
        ],
        "nationwide": [
          {
            "title": "Native Languages of the Americas",
            "type": "Website",
            "desc": "Small non-profit organization dedicated to Native American language survival through internet technology. Comprehensive resource covering hundreds of indigenous languages across North and South America with vocabulary, cultural information, and educational materials.",
            "identifier": "https://www.native-languages.org/",
            "coverage": "Nationwide",
            "lang": "Multiple Languages",
            "pub": "Native Languages Org"
          }
        ]
      },
      "books": {
        "california": [
          {
            "title": "Surviving Through the Days",
            "type": "Book",
            "desc": "Anthology of treasures from oral literature of Native California, assembled by editor sensitive to language, culture, and history. Features translations of Native California stories and songs with cultural context",
            "identifier": "ISBN: 978-0520204072",
            "coverage": "California",
            "lang": "Multiple California Languages",
            "pub": "University of California Press"
          }
        ],
        "eastern_woodlands": [
          {
            "title": "Cherokee Language Lessons",
            "type": "Book",
            "desc": "Comprehensive Cherokee language instruction book featuring grammar, vocabulary, and cultural context. Includes audio materials and progressive lessons for learners at all levels.",
            "identifier": "ISBN: 978-0806140001",
            "coverage": "Eastern Woodlands",
            "lang": "Cherokee",
            "pub": "University of Oklahoma Press"
          }
        ]
      },
      "apps": {
        "nationwide": [
          {
            "title": "FirstVoices Keyboards",
            "type": "Mobile App",
            "desc": "Mobile keyboards supporting over 100 Indigenous languages with proper orthography and special characters. Enables users to type in their heritage languages on smartphones and tablets.",
            "identifier": "Available on iOS and Android",
            "coverage": "Nationwide",
            "lang": "100+ Indigenous Languages",
            "pub": "First Peoples' Cultural Council"
          }
        ]
      },
      "museums": {
        "nationwide": [
          {
            "title": "National Museum of the American Indian",
            "type": "Museum/Archive",
            "desc": "Smithsonian institution dedicated to preserving and presenting Native American cultures, including extensive language archives, oral history collections, and educational resources supporting indigenous language preservation.",
            "identifier": "Washington, DC & New York",
            "coverage": "Nationwide",
            "lang": "Multiple Indigenous Languages",
            "pub": "Smithsonian Institution"
          }
        ]
      }
    };

    let stories = JSON.parse(localStorage.getItem('stories')) || [];
    let editingStoryId = null;

    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
      populateDropdownMenus();
      setupEventListeners();
      displayStories();
      showSection('about');
    });

    function populateDropdownMenus() {
      const categories = ['websites', 'books', 'apps', 'museums'];
      
      categories.forEach(category => {
        const menu = document.getElementById(`${category}-menu`);
        if (menu && resources[category]) {
          menu.innerHTML = '';
          
          Object.keys(resources[category]).forEach(region => {
            const regionName = region.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
            const link = document.createElement('a');
            link.href = '#';
            link.textContent = regionName;
            link.onclick = (e) => {
              e.preventDefault();
              showResources(category, region);
            };
            menu.appendChild(link);
          });
        }
      });
    }

    function setupEventListeners() {
      // Global search functionality
      const searchInput = document.getElementById('globalSearch');
      searchInput.addEventListener('input', performGlobalSearch);

      // Story form submission
      const storyForm = document.getElementById('storyForm');
      storyForm.addEventListener('submit', handleStorySubmission);
    }

    function performGlobalSearch() {
      const query = document.getElementById('globalSearch').value.toLowerCase().trim();
      const searchInfo = document.getElementById('searchInfo');
      
      if (query === '') {
        searchInfo.textContent = 'Search across all resources';
        return;
      }

      const results = [];
      
      // Search through all resources
      Object.keys(resources).forEach(category => {
        Object.keys(resources[category]).forEach(region => {
          resources[category][region].forEach(resource => {
            const searchText = `${resource.title} ${resource.desc} ${resource.lang} ${resource.pub} ${region}`.toLowerCase();
            if (searchText.includes(query)) {
              results.push({
                ...resource,
                category,
                region
              });
            }
          });
        });
      });

      if (results.length > 0) {
        searchInfo.textContent = `Found ${results.length} result(s)`;
        displaySearchResults(results);
      } else {
        searchInfo.textContent = 'No results found';
        showSection('about');
      }
    }

    function displaySearchResults(results) {
      showSection('resources');
      document.getElementById('resource-title').textContent = 'Search Results';
      
      const resourceList = document.getElementById('resource-list');
      resourceList.innerHTML = results.map(resource => `
        <div class="resource-item">
          <h3>${resource.title}</h3>
          <div class="resource-meta">
            <strong>Type:</strong> ${resource.type} | 
            <strong>Region:</strong> ${resource.region.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase())} | 
            <strong>Language:</strong> ${resource.lang} | 
            <strong>Publisher:</strong> ${resource.pub}
          </div>
          <p>${resource.desc}</p>
          ${resource.identifier && resource.identifier.startsWith('http') ? 
            `<a href="${resource.identifier}" target="_blank">Visit Resource â†’</a>` : 
            resource.identifier !== '-' ? `<p><strong>Identifier:</strong> ${resource.identifier}</p>` : ''
          }
        </div>
      `).join('');
    }

    function showSection(sectionId) {
      // Hide all sections
      const sections = document.querySelectorAll('section');
      sections.forEach(section => {
        section.classList.add('hidden');
      });
      
      // Show the requested section
      const targetSection = document.getElementById(sectionId);
      if (targetSection) {
        targetSection.classList.remove('hidden');
      }
    }

    function showResources(category, region) {
      showSection('resources');
      
      const categoryName = category.charAt(0).toUpperCase() + category.slice(1);
      const regionName = region.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
      
      document.getElementById('resource-title').textContent = `${categoryName} - ${regionName}`;
      
      const resourceData = resources[category][region];
      const resourceList = document.getElementById('resource-list');
      
      resourceList.innerHTML = resourceData.map(resource => `
        <div class="resource-item">
          <h3>${resource.title}</h3>
          <div class="resource-meta">
            <strong>Type:</strong> ${resource.type} | 
            <strong>Language:</strong> ${resource.lang} | 
            <strong>Publisher:</strong> ${resource.pub}
          </div>
          <p>${resource.desc}</p>
          ${resource.identifier && resource.identifier.startsWith('http') ? 
            `<a href="${resource.identifier}" target="_blank">Visit Resource â†’</a>` : 
            resource.identifier !== '-' ? `<p><strong>Identifier:</strong> ${resource.identifier}</p>` : ''
          }
        </div>
      `).join('');
    }

    function handleStorySubmission(e) {
      e.preventDefault();
      
      const title = document.getElementById('storyTitle').value;
      const language = document.getElementById('storyLanguage').value;
      const content = document.getElementById('storyContent').value;
      const fileInput = document.getElementById('storyAttachment');
      
      let fileInfo = null;
      if (fileInput.files.length > 0) {
        const file = fileInput.files[0];
        fileInfo = {
          name: file.name,
          size: file.size,
          type: file.type
        };
      }
      
      const story = {
        id: editingStoryId || Date.now(),
        title,
        language,
        content,
        fileInfo,
        timestamp: new Date().toLocaleString()
      };
      
      if (editingStoryId) {
        const index = stories.findIndex(s => s.id === editingStoryId);
        stories[index] = story;
        editingStoryId = null;
        document.querySelector('#storyForm button').textContent = 'Submit Story';
      } else {
        stories.push(story);
      }
      
      localStorage.setItem('stories', JSON.stringify(stories));
      displayStories();
      
      // Reset form
      document.getElementById('storyForm').reset();
    }

    function displayStories() {
      const storyList = document.getElementById('storyList');
      storyList.innerHTML = stories.map(story => `
        <div class="story" draggable="true" data-id="${story.id}">
          <button class="delete-btn" onclick="deleteStory(${story.id})" title="Delete">Ã—</button>
          <button class="edit-btn" onclick="editStory(${story.id})" title="Edit">âœŽ</button>
          <h3>${story.title}</h3>
          <em>${story.language} - ${story.timestamp}</em>
          <p>${story.content}</p>
          ${story.fileInfo ? `<div class="file-attachment">ðŸ“Ž ${story.fileInfo.name} (${(story.fileInfo.size / 1024).toFixed(1)} KB)</div>` : ''}
        </div>
      `).join('');
      
      // Add drag and drop functionality
      addDragAndDropListeners();
    }

    function deleteStory(id) {
      if (confirm('Are you sure you want to delete this story?')) {
        stories = stories.filter(story => story.id !== id);
        localStorage.setItem('stories', JSON.stringify(stories));
        displayStories();
      }
    }

    function editStory(id) {
      const story = stories.find(s => s.id === id);
      if (story) {
        document.getElementById('storyTitle').value = story.title;
        document.getElementById('storyLanguage').value = story.language;
        document.getElementById('storyContent').value = story.content;
        
        editingStoryId = id;
        document.querySelector('#storyForm button').textContent = 'Update Story';
        
        // Scroll to form
        document.getElementById('storyForm').scrollIntoView({ behavior: 'smooth' });
      }
    }

    function addDragAndDropListeners() {
      const storyElements = document.querySelectorAll('.story');
      
      storyElements.forEach(story => {
        story.addEventListener('dragstart', handleDragStart);
        story.addEventListener('dragover', handleDragOver);
        story.addEventListener('drop', handleDrop);
        story.addEventListener('dragend', handleDragEnd);
      });
    }

    function handleDragStart(e) {
      e.dataTransfer.setData('text/plain', e.target.dataset.id);
      e.target.classList.add('dragging');
    }

    function handleDragOver(e) {
      e.preventDefault();
    }

    function handleDrop(e) {
      e.preventDefault();
      const draggedId = parseInt(e.dataTransfer.getData('text/plain'));
      const targetId = parseInt(e.target.closest('.story').dataset.id);
      
      if (draggedId !== targetId) {
        const draggedIndex = stories.findIndex(s => s.id === draggedId);
        const targetIndex = stories.findIndex(s => s.id === targetId);
        
        const draggedStory = stories.splice(draggedIndex, 1)[0];
        stories.splice(targetIndex, 0, draggedStory);
        
        localStorage.setItem('stories', JSON.stringify(stories));
        displayStories();
      }
    }

    function handleDragEnd(e) {
      e.target.classList.remove('dragging');
    }
  </script>
</body>
</html>
