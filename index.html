<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Native American Language Archive</title>
    <style>
        /* BASE STYLES */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; 
            line-height: 1.6; 
            color: #222; 
            background: #fff; 
        }

        /* --- HEADER & BANNER (NOW INCLUDES SEARCH BAR) --- */
        header { 
            background: #fff; 
            color: #222; 
            padding: 1.5rem 2rem 0.5rem; 
            /* Use Flexbox to align title/search bar */
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            border-bottom: 1px solid #eee; 
            position: sticky; 
            top: 0;
            z-index: 1000;
        }
        .header-left {
            text-align: left;
        }
        header h1 { 
            font-size: 2.5rem; /* Slightly larger for emphasis */
            margin-bottom: 0; /* Remove space under main heading */
            color: #1A73E8; /* A key color for brand/emphasis */
            font-weight: 900; /* Extra bold */
            letter-spacing: 0.1rem; /* Space out the letters */
        }
        header p { 
            font-size: 0.9rem; 
            font-style: italic; /* Use italics for the subtitle */
            color: #666; 
            margin-top: 0.25rem;
        }
        
        .search-container {
            flex-basis: 300px; /* Give search bar a fixed width */
            padding-top: 0.5rem; /* Align it better with the H1/P text */
        }
        #global-search {
            width: 100%;
            padding: 0.5rem 1rem;
            border: 1px solid #ccc;
            border-radius: 20px;
            font-size: 1rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            transition: border-color 0.3s;
        }
        #global-search:focus {
            border-color: #1A73E8;
            outline: none;
            box-shadow: 0 0 0 3px rgba(26, 115, 232, 0.2);
        }

        /* --- NAVIGATION --- */
        nav { 
            background: #fff; 
            padding: 0 2rem;
            border-bottom: 1px solid #eee;
            position: sticky; 
            top: 85px; /* Adjust this if header height changes */
            z-index: 999;
        }
        nav ul { 
            list-style: none; 
            display: flex; 
            flex-wrap: wrap; /* Allow items to wrap */
            justify-content: flex-start; /* Align left */
        }
        nav ul li a { 
            display: block; 
            padding: 0.75rem 1rem; 
            text-decoration: none; 
            color: #333; 
            font-weight: 500; 
            transition: all 0.2s ease-in-out;
            white-space: nowrap; /* Prevent links from breaking */
            border-bottom: 3px solid transparent; /* Placeholder for active state */
        }
        nav ul li a:hover { 
            background-color: #f5f5f5; 
            color: #1A73E8;
        }
        nav ul li a.active {
            border-bottom: 3px solid #1A73E8;
            color: #1A73E8;
            font-weight: 600;
        }
        
        /* --- MAIN CONTENT & SECTIONS --- */
        main { 
            padding: 2rem; 
            max-width: 1200px; 
            margin: 0 auto; 
        }
        .section { 
            margin-bottom: 3rem; 
            padding-top: 1rem;
            display: none; /* Hidden by default, shown by JS */
        }
        
        /* --- ABOUT SECTION (2-COLUMN LAYOUT) --- */
        #about {
            display: block; /* Always visible on load */
        }
        .about-content-wrapper {
            display: flex;
            flex-wrap: wrap;
            gap: 2rem;
            align-items: flex-start;
        }
        .about-text {
            flex: 1 1 55%; /* Text takes up about 55% of the space */
            padding-right: 1rem;
        }
        .about-image {
            flex: 1 1 35%; /* Image takes up about 35% of the space */
            min-width: 250px; /* Minimum size for the image container */
        }
        .about-image img {
            width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        /* --- RESOURCE CARD STYLES --- */
        .resource-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }
        .resource-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            transition: transform 0.2s, box-shadow 0.2s;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .resource-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
        }
        .resource-card h3 {
            color: #1A73E8;
            font-size: 1.25rem;
            margin-bottom: 0.5rem;
        }
        .resource-card p {
            font-size: 0.95rem;
            margin-bottom: 0.75rem;
            color: #555;
            flex-grow: 1; /* Allows description to take up available space */
        }
        .resource-meta {
            font-size: 0.85rem;
            color: #888;
            margin-top: 0.5rem;
        }
        .resource-meta span {
            display: block;
        }
        .resource-link {
            display: inline-block;
            margin-top: 1rem;
            padding: 0.5rem 1rem;
            background-color: #3C82F7;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-weight: 500;
            transition: background-color 0.2s;
        }
        .resource-link:hover {
            background-color: #1A73E8;
        }
        
        /* --- FOOTER --- */
        footer {
            text-align: center;
            padding: 1.5rem 2rem;
            margin-top: 3rem;
            border-top: 1px solid #eee;
            color: #777;
            font-size: 0.9rem;
        }

        /* --- MEDIA QUERIES FOR RESPONSIVENESS --- */
        @media (max-width: 900px) {
            header {
                flex-direction: column;
                align-items: center;
                padding-bottom: 1rem;
            }
            .header-left {
                text-align: center;
            }
            .search-container {
                padding-top: 1rem;
                width: 80%;
                flex-basis: auto;
            }
            nav ul {
                justify-content: center;
            }
            nav ul li a {
                padding: 0.5rem 0.75rem;
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 768px) {
            /* About section: stack text and image */
            .about-content-wrapper {
                flex-direction: column;
            }
            .about-text {
                flex: 1 1 100%;
                padding-right: 0;
            }
            .about-image {
                flex: 1 1 100%;
                min-width: auto;
            }
            /* Resource Grid: simplify on small screens */
            .resource-list {
                grid-template-columns: 1fr;
            }
            main {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>

    <header>
        <div class="header-left">
            <h1>VOICES</h1>
            <p>Native American Language Archive</p>
        </div>
        <div class="search-container">
            <input type="search" id="global-search" placeholder="Search across all resources...">
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="#about" data-section="about" class="nav-link active">About</a></li>
            <li><a href="#digital-archive" data-section="digital-archive" class="nav-link">Digital Archive</a></li>
            <li><a href="#books" data-section="books" class="nav-link">Books</a></li>
            <li><a href="#apps" data-section="apps" class="nav-link">Apps</a></li>
            <li><a href="#learning-resources" data-section="learning-resources" class="nav-link">Learning Resources</a></li>
            <li><a href="#museums" data-section="museums" class="nav-link">Museums</a></li>
            <li><a href="#share-story" data-section="share-story" class="nav-link">Share a Story</a></li>
            <li><a href="#contact" data-section="contact" class="nav-link">Contact</a></li>
        </ul>
    </nav>

    <main>
        
        <section id="about" class="section">
            <h2>About Our Mission</h2>
            <div class="about-content-wrapper">
                <div class="about-text">
                    <p>The **VOICES** Archive is a dedicated platform for the preservation, revitalization, and celebration of indigenous languages across North America. We provide access to digitized historical documents, contemporary media, and language documentation projects led by native speakers and communities.</p>
                    <p>Our goal is to act as a centralized, community-driven hub, offering **resources** to help communities preserve their ancestral languages for future generations. We prioritize ethical archiving practices and the sovereign control of linguistic data by the communities who create it.</p>
                    <p>Explore the categories above to find books, mobile apps, educational programs, and digital archives from tribal nations and organizations actively involved in language work.</p>
                </div>
                <div class="about-image">
                    <img src="boston-public-library-rFl5Fs69_-E-unsplash (1).jpg" alt="A photo of an ornate, historical library or archive room, representing the preservation of knowledge.">
                </div>
            </div>
        </section>

        <section id="digital-archive-section" class="section">
            <h2 id="digital-archive-title">Digital Archives & Websites</h2>
            <div id="digital-archive-list" class="resource-list">
                </div>
        </section>

        <section id="books-section" class="section">
            <h2>Books & Print Materials</h2>
            <div id="books-list" class="resource-list">
                </div>
        </section>

        <section id="apps-section" class="section">
            <h2>Mobile Apps & Interactive Resources</h2>
            <div id="apps-list" class="resource-list">
                </div>
        </section>
        
        <section id="learning-resources-section" class="section">
            <h2>Learning Resources & Classes</h2>
            <div id="learning-resources-list" class="resource-list">
                </div>
        </section>

        <section id="museums-section" class="section">
            <h2>Museum Collections & Cultural Centers</h2>
            <div id="museums-list" class="resource-list">
                </div>
        </section>

        <section id="share-story-section" class="section">
            <h2>Share Your Story or Resources</h2>
            <p>If you are a tribal member, elder, or language professional and would like to share documentation, stories, or resources with the archive, please use the form below. We are committed to ethical archiving practices and community control.</p>
            <div style="padding: 2rem; background: #f9f9f9; border: 1px dashed #ccc; text-align: center;">
                [Placeholder for Submission Form]
            </div>
        </section>

        <section id="contact-section" class="section">
            <h2>Contact Us</h2>
            <p>For general inquiries, technical assistance, or partnership opportunities, please reach out.</p>
            <div style="padding: 2rem; background: #f9f9f9; border: 1px dashed #ccc; text-align: center;">
                [Placeholder for Contact Information / Contact Form]
            </div>
        </section>

    </main>

    <footer>
        &copy; 2025 VOICES: Native American Language Archive. All Rights Reserved. Data sovereignty maintained by contributing tribes and nations.
    </footer>

    <script>
        // --- DATA MODEL (The entire list of resources) ---
        // The 'type' field will be used to automatically sort the cards into the correct section.
        const allResources = [
            // Moved Nakona University and language classes to LEARNING RESOURCES
            {
                id: 10,
                title: "Nakona University Language Classes",
                name: "Fort Belknap College Nakona/A'aninin",
                desc: "Offers full credit courses in the Nakona (Assiniboine) language, alongside cultural studies. A key institution for community-led language revitalization.",
                language: "Nakona (Assiniboine)",
                coverage: "Fort Belknap Reservation, Montana",
                publisher: "Fort Belknap College",
                type: "Learning Resources",
                url: "#" // Placeholder
            },
            // Moved Cherokee Nation project to LEARNING RESOURCES
            {
                id: 11,
                title: "Cherokee Nation Language Department",
                name: "Cherokee Nation",
                desc: "A comprehensive initiative offering immersion schools, master-apprentice programs, and online lessons to create new speakers of the Cherokee language.",
                language: "Cherokee",
                coverage: "Cherokee Nation, Oklahoma",
                publisher: "Cherokee Nation",
                type: "Learning Resources",
                url: "#" // Placeholder
            },
            // Moved Wampanoag project to LEARNING RESOURCES
            {
                id: 12,
                title: "Wôpanâak Language Reclamation Project",
                name: "Wôpanâak Language Reclamation Project",
                desc: "The effort to bring the Wampanoag language back to the community after 150 years without native speakers, including summer programs and children's curriculum.",
                language: "Wampanoag",
                coverage: "Massachusetts",
                publisher: "Wampanoag Tribe",
                type: "Learning Resources",
                url: "#" // Placeholder
            },
            // The following are Digital Archive/Website Examples
            {
                id: 1,
                title: "AILLA: Archive of Indigenous Languages of Latin America",
                name: "AILLA",
                desc: "A digital repository of audio and text materials from and about the indigenous languages of Latin America.",
                language: "Various (Latin American)",
                coverage: "Latin America",
                publisher: "University of Texas at Austin",
                type: "Digital Archive",
                url: "#" // Placeholder
            },
            {
                id: 2,
                title: "Dena'ina Ełnena: A Dena'ina Language Archive",
                name: "Dena'ina Ełnena",
                desc: "Digital collection of historical and contemporary materials for the Dena'ina language of Alaska.",
                language: "Dena'ina",
                coverage: "Alaska, USA",
                publisher: "Alaska Native Language Archive",
                type: "Digital Archive",
                url: "#" // Placeholder
            },
            // The following are App Examples
            {
                id: 3,
                title: "Gwich'in Language Resources",
                name: "Gwich'in Language",
                desc: "Mobile app providing a dictionary, phrases, and basic **learning materials** for the Gwich'in language.",
                language: "Gwich'in",
                coverage: "Alaska/Yukon",
                publisher: "Gwich'in Tribal Council",
                type: "Apps",
                url: "#" // Placeholder
            },
            {
                id: 4,
                title: "Lakota Language Consortium App",
                name: "Lakota Language Consortium",
                desc: "Interactive vocabulary and phrase app, designed for learners of all ages.",
                language: "Lakota",
                coverage: "Plains Region",
                publisher: "Lakota Language Consortium",
                type: "Apps",
                url: "#" // Placeholder
            },
            // The following are Books/Print Examples
            {
                id: 5,
                title: "Dictionary of the Comanche Language",
                name: "Comanche Dictionary",
                desc: "A comprehensive published dictionary, an essential reference for serious students and tribal members.",
                language: "Comanche",
                coverage: "Oklahoma",
                publisher: "University of Oklahoma Press",
                type: "Books",
                url: "#" // Placeholder
            },
            // The following are Museum Examples
            {
                id: 6,
                title: "National Museum of the American Indian (NMAI) Archives",
                name: "NMAI",
                desc: "Collections include linguistic field notes, audio recordings, and visual documentation from various cultures.",
                language: "Various",
                coverage: "North America",
                publisher: "Smithsonian Institution",
                type: "Museums",
                url: "#" // Placeholder
            },
            {
                id: 7,
                title: "Phoebe A. Hearst Museum of Anthropology",
                name: "Hearst Museum",
                desc: "Extensive collections of California Indian languages, including the papers of linguist Alfred Kroeber.",
                language: "California Languages",
                coverage: "California, USA",
                publisher: "UC Berkeley",
                type: "Museums",
                url: "#" // Placeholder
            },
        ];

        // --- CORE LOGIC ---

        /**
         * Renders the resource cards for a specific resource type into its container.
         * @param {string} resourceType - The type of resource to display (e.g., 'Digital Archive', 'Books').
         * @param {string} containerId - The ID of the HTML element to insert the cards into.
         */
        function renderTypeSection(resourceType, containerId) {
            // Determine the container ID based on the resource type if not provided
            if (!containerId) {
                containerId = resourceType.toLowerCase().replace(/ /g, '-') + '-list';
            }
            const container = document.getElementById(containerId);
            if (!container) return; // Exit if container doesn't exist
            
            // Filter resources by the given type
            const filteredResources = allResources.filter(resource => resource.type === resourceType);

            // Generate HTML for each card
            const html = filteredResources.map(resource => `
                <div class="resource-card">
                    <div>
                        <h3>${resource.title}</h3>
                        <p>${resource.desc}</p>
                    </div>
                    <div class="resource-meta">
                        <span>Language: ${resource.language}</span>
                        <span>Coverage: ${resource.coverage}</span>
                        <span>Publisher: ${resource.publisher}</span>
                        <a href="${resource.url}" target="_blank" class="resource-link">Go to Resource</a>
                    </div>
                </div>
            `).join('');

            container.innerHTML = html;
        }

        /**
         * Renders a list of resource cards, typically for search results.
         * @param {Array<Object>} resources - The array of resource objects to render.
         * @param {string} containerId - The ID of the HTML element to insert the cards into.
         */
        function renderGenericCards(resources, containerId) {
            const container = document.getElementById(containerId);
            if (!container) return; 

            if (resources.length === 0) {
                container.innerHTML = `<p style="padding: 2rem; text-align: center; color: #555;">No resources found matching your search term.</p>`;
                return;
            }

            const html = resources.map(resource => `
                <div class="resource-card">
                    <div>
                        <h3>${resource.title}</h3>
                        <p>${resource.desc}</p>
                    </div>
                    <div class="resource-meta">
                        <span>Type: <strong>${resource.type}</strong></span>
                        <span>Language: ${resource.language}</span>
                        <span>Coverage: ${resource.coverage}</span>
                        <span>Publisher: ${resource.publisher}</span>
                        <a href="${resource.url}" target="_blank" class="resource-link">Go to Resource</a>
                    </div>
                </div>
            `).join('');

            container.innerHTML = html;
        }


        /**
         * Shows a specific content section and updates the navigation bar.
         * @param {string} sectionId - The ID of the section to display (e.g., 'about', 'digital-archive-section').
         * @param {string} navAnchorId - The section name used in the nav anchor (e.g., 'digital-archive').
         */
        function showSection(sectionId, navAnchorId) {
            // 1. Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.style.display = 'none';
            });

            // 2. Show the requested section
            const sectionToShow = document.getElementById(sectionId);
            if (sectionToShow) {
                sectionToShow.style.display = 'block';
            }

            // 3. Update the active state in the navigation
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });

            // Find the correct nav link to activate. It's usually based on the data-section attribute.
            const targetNavId = navAnchorId || sectionId.replace('-section', '');
            const activeLink = document.querySelector(`.nav-link[data-section="${targetNavId}"]`);
            if (activeLink) {
                activeLink.classList.add('active');
            }
        }


        // --- EVENT LISTENERS & INITIAL SETUP ---
        document.addEventListener('DOMContentLoaded', () => {
            
            // 1. INITIAL RENDERING OF ALL SECTIONS
            // Render the content for all sections once at the start
            renderTypeSection('Digital Archive', 'digital-archive-list');
            renderTypeSection('Books', 'books-list');
            renderTypeSection('Apps', 'apps-list');
            renderTypeSection('Learning Resources', 'learning-resources-list');
            renderTypeSection('Museums', 'museums-list');
            
            // 2. INITIAL VIEW
            // Show the 'About' section by default and ensure its nav link is active
            showSection('about', 'about');


            // 3. NAVIGATION CLICKS
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const sectionName = this.getAttribute('data-section');
                    let sectionId = sectionName + '-section';
                    
                    // Handle special cases for placeholder sections without a list
                    if (sectionName === 'about' || sectionName === 'share-story' || sectionName === 'contact') {
                        sectionId = sectionName; // Use the simple ID for these sections
                    }
                    
                    // Reset search display when navigating away from search results
                    document.getElementById('global-search').value = '';
                    document.getElementById('digital-archive-title').textContent = `Digital Archives & Websites`;

                    showSection(sectionId, sectionName);
                });
            });


            // 4. GLOBAL SEARCH FUNCTIONALITY
            const searchInput = document.getElementById('global-search');
            searchInput.addEventListener('input', function() {
                const searchTerm = this.value.trim().toLowerCase();
                
                // Filter the entire list of resources
                const filtered = allResources.filter(resource => {
                    // Create a list of fields to search in, converting them to lowercase
                    const searchFields = [
                        resource.title,
                        resource.name,
                        resource.desc,
                        resource.language,
                        resource.coverage,
                        resource.publisher,
                        resource.type // Include resource type in search
                    ].map(field => field ? field.toLowerCase() : '');

                    // Check if any field includes the search term
                    return searchFields.some(field => field.includes(searchTerm));
                });
                
                // Use the Digital Archive section to display global search results
                if (searchTerm.length > 0) {
                    document.getElementById('digital-archive-title').textContent = `Search Results for "${this.value}" (${filtered.length} items)`;
                    showSection('digital-archive-section', 'digital-archive'); // Show Digital Archive section
                    // Render the combined results 
                    renderGenericCards(filtered, 'digital-archive-list'); 
                } else {
                    // Revert to default view when search is cleared
                    document.getElementById('digital-archive-title').textContent = `Digital Archives & Websites`;
                    showSection('about', 'about'); // Default back to About page
                    // Re-render the default Digital Archive view so it's ready when clicked next
                    renderTypeSection('Digital Archive', 'digital-archive-list');
                }
            });
        });
    </script>
</body>
</html>
