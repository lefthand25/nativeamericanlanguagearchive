<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Native American Language Archive</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; line-height: 1.6; color: #222; background: #fafafa; }
    header { background: #222; color: #fff; padding: 2rem 1rem; text-align: center; border-bottom: 4px solid #444; }
    header h1 { font-size: 2.5rem; margin-bottom: 0.5rem; }
    header p { font-size: 1.1rem; font-style: italic; color: #ddd; }
    nav { background: #fff; border-bottom: 1px solid #ddd; padding: 0.5rem 0; position: sticky; top: 0; z-index: 100; }
    nav ul { list-style: none; display: flex; flex-wrap: wrap; justify-content: center; }
    nav a { display: block; padding: 0.75rem 1.5rem; color: #333; text-decoration: none; font-weight: 600; transition: background 0.3s; }
    nav a:hover { background: #f5f5f5; border-radius: 6px; }
    .dropdown-content { display: none; position: absolute; background: #fff; min-width: 220px; border: 1px solid #ddd; border-radius: 6px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
    .dropdown-content a { padding: 0.75rem 1rem; border-bottom: 1px solid #eee; }
    .dropdown-content a:last-child { border-bottom: none; }
    .dropdown:hover .dropdown-content { display: block; }
    .container { max-width: 1200px; margin: 0 auto; padding: 2rem 1rem; }
    section { margin-bottom: 3rem; padding: 2rem; background: #fff; border: 1px solid #ddd; border-radius: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.05); }
    section h2 { font-size: 2rem; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid #eee; }
    .hidden { display: none; }
    .about-images { margin-top: 1.5rem; display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1rem; }
    .about-images figure { margin: 0; }
    .about-images img { width: 100%; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.15); }
    .about-images figcaption { font-size: 0.9rem; margin-top: 0.5rem; color: #555; text-align: center; }
    .search-bar { margin-bottom: 1.5rem; text-align: center; }
    .search-bar input { width: 80%; max-width: 600px; padding: 0.75rem; font-size: 1rem; border: 1px solid #ccc; border-radius: 8px; }
    .resource-list { margin-top: 1.5rem; display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 1.5rem; }
    .resource-item { background: #fdfdfd; padding: 1.5rem; border: 1px solid #ddd; border-radius: 10px; box-shadow: 0 1px 4px rgba(0,0,0,0.05); transition: transform 0.2s; }
    .resource-item:hover { transform: translateY(-3px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
    .resource-item h3 { font-size: 1.3rem; margin-bottom: 0.75rem; color: #111; }
    .resource-meta { font-size: 0.9rem; color: #555; margin-bottom: 0.5rem; }
    .resource-item p { margin-bottom: 0.75rem; color: #333; line-height: 1.7; }
    .resource-item a { display: inline-block; margin-top: 0.5rem; color: #0066cc; text-decoration: none; font-weight: 600; }
    .resource-item a:hover { text-decoration: underline; }
    footer { background: #222; color: #fff; text-align: center; padding: 2rem 1rem; margin-top: 3rem; border-top: 4px solid #444; }
    form { margin-top: 1.5rem; display: flex; flex-direction: column; gap: 1rem; }
    form input, form textarea { padding: 0.75rem; border: 1px solid #ccc; border-radius: 8px; font-size: 1rem; }
    form button { background: #0066cc; color: #fff; border: none; padding: 0.75rem; border-radius: 8px; cursor: pointer; font-weight: 600; }
    form button:hover { background: #004999; }
    #storyList { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1rem; margin-top: 2rem; }
    .story { background: #fefefe; padding: 1rem; border: 1px solid #ddd; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); word-wrap: break-word; cursor: grab; position: relative; }
    .story.dragging { opacity: 0.5; }
    .story h3 { font-size: 1.2rem; margin-bottom: 0.5rem; }
    .story em { font-size: 0.9rem; color: #555; }
    .delete-btn, .edit-btn { position: absolute; top: 8px; width: 24px; height: 24px; border: none; border-radius: 50%; text-align: center; cursor: pointer; font-size: 0.8rem; line-height: 22px; color: #fff; }
    .delete-btn { right: 8px; background: #e63946; }
    .delete-btn:hover { background: #c1121f; }
    .edit-btn { right: 40px; background: #457b9d; }
    .edit-btn:hover { background: #1d3557; }
    @media (max-width: 768px) { nav ul { flex-direction: column; } nav a { padding: 1rem; } }
  </style>
</head>
<body>
  <header>
    <h1>Native American Language Archive</h1>
    <p>Preserving Voices, Honoring Heritage</p>
  </header>

  <nav>
    <ul>
      <li><a href="#about" onclick="showSection('about')">About</a></li>
      <li class="dropdown"><a href="#websites">Websites/Digital Archives</a><div class="dropdown-content" id="websites-menu"></div></li>
      <li class="dropdown"><a href="#books">Books</a><div class="dropdown-content" id="books-menu"></div></li>
      <li class="dropdown"><a href="#apps">Apps</a><div class="dropdown-content" id="apps-menu"></div></li>
      <li class="dropdown"><a href="#museums">Museums</a><div class="dropdown-content" id="museums-menu"></div></li>
      <li><a href="#share" onclick="showSection('share')">Share a Story</a></li>
    </ul>
  </nav>

  <div class="container">
    <section id="about">
      <h2>About Our Mission</h2>
      <p>Indigenous languages carry wisdom, stories, and cultural heritage of communities that have stewarded this land for thousands of years. Yet many of these irreplaceable linguistic treasures face the threat of disappearing forever. Our platform serves as a digital sanctuary where indigenous communities, linguists, and language enthusiasts can come together to preserve oral traditions and support vital revitalization work.</p>
      <div class="about-images">
        <figure>
          <img src="https://images.unsplash.com/photo-1503264116251-35a269479413?auto=format&fit=crop&w=800&q=80" alt="California Redwoods">
          <figcaption>California redwoods, homeland of many Native peoples.</figcaption>
        </figure>
        <figure>
          <img src="https://images.unsplash.com/photo-1508780709619-79562169bc64?auto=format&fit=crop&w=800&q=80" alt="Cultural Preservation">
          <figcaption>Preserving Native languages and culture through community efforts.</figcaption>
        </figure>
        <figure>
          <img src="https://images.unsplash.com/photo-1529070538774-1843cb3265df?auto=format&fit=crop&w=800&q=80" alt="Great Plains Teepee">
          <figcaption>Teepee on the Great Plains, symbolizing resilience and tradition.</figcaption>
        </figure>
      </div>
    </section>

    <section id="resources" class="hidden">
      <h2 id="resource-title">Resources</h2>
      <div class="search-bar">
        <input type="text" id="searchInput" placeholder="Search resources by title, description, language, or publisher...">
      </div>
      <div id="resource-list" class="resource-list"></div>
    </section>

    <section id="share" class="hidden">
      <h2>Share a Story</h2>
      <p>Contribute your own story in English or in a Native American language. These stories will become part of our growing archive.</p>
      <form id="storyForm">
        <input type="text" id="storyTitle" placeholder="Story Title" required>
        <input type="text" id="storyLanguage" placeholder="Language (e.g. English, Cherokee)" required>
        <textarea id="storyContent" placeholder="Write your story here..." rows="6" required></textarea>
        <button type="submit">Submit Story</button>
      </form>
      <div id="storyList"></div>
    </section>
  </div>

  <footer>
    <p>&copy; 2025 Native American Language Archive | Honoring Indigenous Voices</p>
  </footer>

  <script>
    const regions = ["california", "eastern", "basin", "northwest", "plateau", "plains"];

    const resources = {/* same datasets from previous version (websites, books, apps, museums) */};

    function buildMenus() {
      ["websites", "books", "apps", "museums"].forEach(cat => {
        const menu = document.getElementById(cat + "-menu");
        regions.forEach(region => {
          const a = document.createElement("a");
          a.href = `#${cat}`;
          a.innerText = region.charAt(0).toUpperCase() + region.slice(1).replace(/-/g, ' ');
          a.onclick = () => showResources(cat, region);
          menu.appendChild(a);
        });
      });
    }

    function showSection(id) {
      document.querySelectorAll("section").forEach(sec => sec.classList.add("hidden"));
      document.getElementById(id).classList.remove("hidden");
    }

    function showResources(category, region) {
      showSection('resources');
      document.getElementById("resource-title").innerText = category.charAt(0).toUpperCase() + category.slice(1) + " Resources";
      renderResources(resources[category][region] || []);
    }

    function renderResources(listData) {
      const list = document.getElementById("resource-list");
      list.innerHTML = "";
      listData.forEach(r => {
        const item = document.createElement("div");
        item.classList.add("resource-item");
        item.innerHTML = `
          <h3>${r.title}</h3>
          <div class="resource-meta"><strong>Type:</strong> ${r.type} | <strong>Coverage:</strong> ${r.coverage}</div>
          <div class="resource-meta"><strong>Language:</strong> ${r.lang} | <strong>Publisher:</strong> ${r.pub}</div>
          <p>${r.desc}</p>
          ${r.identifier ? `<a href="${r.identifier}" target="_blank">Visit Resource</a>` : ""}
        `;
        list.appendChild(item);
      });
    }

    document.getElementById("searchInput").addEventListener("input", function() {
      const query = this.value.toLowerCase();
      let results = [];
      for (let category in resources) {
        for (let region in resources[category]) {
          resources[category][region].forEach(r => {
            if (
              r.title.toLowerCase().includes(query) ||
              r.desc.toLowerCase().includes(query) ||
              r.lang.toLowerCase().includes(query) ||
              r.pub.toLowerCase().includes(query)
            ) {
              results.push(r);
            }
          });
        }
      }
      renderResources(results);
    });

    // Story functions remain unchanged from last version (drag-drop, edit, delete with confirm)

    buildMenus();
  </script>
</body>
</html>

  <footer>
    <p>&copy; 2025 Native American Language Archive | Honoring Indigenous Voices</p>
  </footer>

  <script>
    const regions = ["california", "eastern", "basin", "northwest", "plateau", "plains"];

    const resources = {/* same datasets from previous version (websites, books, apps, museums) */};

    function buildMenus() {
      ["websites", "books", "apps", "museums"].forEach(cat => {
        const menu = document.getElementById(cat + "-menu");
        regions.forEach(region => {
          const a = document.createElement("a");
          a.href = `#${cat}`;
          a.innerText = region.charAt(0).toUpperCase() + region.slice(1).replace(/-/g, ' ');
          a.onclick = () => showResources(cat, region);
          menu.appendChild(a);
        });
      });
    }

    function showSection(id) {
      document.querySelectorAll("section").forEach(sec => sec.classList.add("hidden"));
      document.getElementById(id).classList.remove("hidden");
    }

    function showResources(category, region) {
      showSection('resources');
      document.getElementById("resource-title").innerText = category.charAt(0).toUpperCase() + category.slice(1) + " Resources";
      renderResources(resources[category][region] || []);
    }

    function renderResources(listData) {
      const list = document.getElementById("resource-list");
      list.innerHTML = "";
      listData.forEach(r => {
        const item = document.createElement("div");
        item.classList.add("resource-item");
        item.innerHTML = `
          <h3>${r.title}</h3>
          <div class="resource-meta"><strong>Type:</strong> ${r.type} | <strong>Coverage:</strong> ${r.coverage}</div>
          <div class="resource-meta"><strong>Language:</strong> ${r.lang} | <strong>Publisher:</strong> ${r.pub}</div>
          <p>${r.desc}</p>
          ${r.identifier ? `<a href="${r.identifier}" target="_blank">Visit Resource</a>` : ""}
        `;
        list.appendChild(item);
      });
    }

    document.getElementById("searchInput").addEventListener("input", function() {
      const query = this.value.toLowerCase();
      let results = [];
      for (let category in resources) {
        for (let region in resources[category]) {
          resources[category][region].forEach(r => {
            if (
              r.title.toLowerCase().includes(query) ||
              r.desc.toLowerCase().includes(query) ||
              r.lang.toLowerCase().includes(query) ||
              r.pub.toLowerCase().includes(query)
            ) {
              results.push(r);
            }
          });
        }
      }
      renderResources(results);
    });

    // Story functions remain unchanged from last version (drag-drop, edit, delete with confirm)

    buildMenus();
  </script>
</body>
</html>
